webpackJsonp([26],{"+jqB":function(e,n){},"+skl":function(e,n){},0:function(e,n,t){t("j1ja"),e.exports=t("NHnr")},"5XOa":function(e,n){},KhYh:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("tvR6");var o=t("qBF2"),r=t.n(o),a=t("7+uW"),i=(t("KhYh"),{name:"App",created:function(){document.getElementById("vue-loading").style.display="none"}}),s={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var u=t("VU/8")(i,s,!1,function(e){t("5XOa"),t("+jqB")},null,null).exports,c=t("BTaQ"),l=t.n(c),d=(t("+skl"),t("Gu7T")),p=t.n(d),f=t("/ocq"),m=t("mvHQ"),h=t.n(m),g=t("pFYg"),y=t.n(g),v=t("NYxO"),b=(t("Ya8g"),{state:{data:{}},mutations:{clear:function(e){e.data={}}},getters:{getData:function(e){return function(){return b}},data:function(e){return function(){return b}}},actions:{}}),w=b;a.default.use(v.a);new v.a.Store({modules:{a:{state:{m:123},mutations:{},getters:{},actions:{toDo:function(e){return e.Store.m}}},b:{state:{m:456},mutations:{},getters:{},actions:{toDo:function(e){return e.Store.m}}}},state:{count:12220},mutations:{increment:function(e,n){e.count++}},getters:{newVal:function(e,n){return e.count=888,e.count}},actions:{increment:function(e,n){e.commit("increment",n)}}});function U(e){if(e.userInfo)return e.userInfo;var n=localStorage.getItem(S.USER);return n&&(e.userInfo=JSON.parse(n)),e.userInfo}var S={USER:"user"},I={state:{permission:[],isLoading:!1,userInfo:null},mutations:{setPermission:function(e,n){var t;n&&"object"==(void 0===n?"undefined":y()(n))&&(n instanceof Array?(t=e.permission).push.apply(t,p()(n)):e.permission=n)},setUserInfo:function(e,n){e.userInfo=n,localStorage.setItem(S.USER,h()(n))},clearUserInfo:function(e){e.permission=[],e.userInfo=null,localStorage.removeItem(S.USER)},test:function(e){return 113344},updateLoadingState:function(e,n){e.isLoading=n}},getters:{getPermission:function(e){return function(n){return n?e.permission.find(function(e){return e.path==n}):e.permission}},getUserInfo:function(e){return function(){return U(e),e.userInfo}},getUserName:function(e){return function(){return U(e),e.userInfo?e.userInfo.userName:"未获取到登录信息"}},getToken:function(e){return function(){return U(e),e.userInfo?"Bearer "+e.userInfo.token:""}},isLogin:function(e){return function(){return!!U(e)}},isLoading:function(e){return function(){return e.isLoading}}},actions:{setPermission:function(e,n){e.commit("setPermission",n)},toDo:function(e){return e.Store.m},onLoading:function(e,n){e.commit("updateLoadingState",n)}}},R=new v.a.Store({modules:{system:I,data:w}}),k=[{path:"/404",name:"404",component:function(){return t.e(0).then(t.bind(null,"nUj5"))},meta:{anonymous:!0}},{path:"/401",name:"401",component:function(){return t.e(20).then(t.bind(null,"TC7d"))}},{path:"/coding",name:"coding",component:function(){return t.e(19).then(t.bind(null,"1E2z"))}}],L=[{path:"/Sys_Log",name:"sys_Log",component:function(){return t.e(8).then(t.bind(null,"BHqT"))}},{path:"/Sys_User",name:"Sys_User",component:function(){return t.e(6).then(t.bind(null,"SO2C"))}},{path:"/Sys_Dictionary",name:"Sys_Dictionary",component:function(){return t.e(10).then(t.bind(null,"+saS"))}},{path:"/Sys_Role",name:"Sys_Role",component:function(){return t.e(7).then(t.bind(null,"FVtQ"))}},{path:"/Sys_DictionaryList",name:"Sys_DictionaryList",component:function(){return t.e(9).then(t.bind(null,"bdmh"))}},{path:"/Department",name:"Department",component:function(){return t.e(17).then(t.bind(null,"0RXD"))},meta:{keepAlive:!1}},{path:"/Tenant",name:"Tenant",component:function(){return t.e(15).then(t.bind(null,"QjJr"))},meta:{keepAlive:!1}},{path:"/House",name:"House",component:function(){return t.e(16).then(t.bind(null,"OW3f"))},meta:{keepAlive:!1}},{path:"/Vtenanthouserelation",name:"Vtenanthouserelation",component:function(){return t.e(11).then(t.bind(null,"qSth"))},meta:{keepAlive:!1}},{path:"/TenantHouseRelation",name:"TenantHouseRelation",component:function(){return t.e(12).then(t.bind(null,"RhLX"))},meta:{keepAlive:!1}},{path:"/TenantFee",name:"TenantFee",component:function(){return t.e(14).then(t.bind(null,"AYxb"))}},{path:"/TenantFeeRecord",name:"TenantFeeRecord",component:function(){return t.e(13).then(t.bind(null,"JSum"))}},{path:"/monthRentReport",name:"monthRentReport",component:function(){return t.e(23).then(t.bind(null,"7Ez8"))}},{path:"/InputDetailReport",name:"inputDetailReport",component:function(){return t.e(24).then(t.bind(null,"+lGw"))}},{path:"/tenantsRentReport",name:"tenantsRentReport",component:function(){return t.e(22).then(t.bind(null,"uQ+n"))}}];a.default.use(f.a);var A=new f.a({history:!0,routes:[{path:"*",component:function(){return t.e(0).then(t.bind(null,"nUj5"))}},{path:"/",name:"Index",component:function(){return t.e(5).then(t.bind(null,"mlqX"))},redirect:"/home",children:[].concat(p()(L),p()(k),[{path:"/home",name:"home",component:function(){return t.e(1).then(t.bind(null,"26dS"))}},{path:"/UserInfo",name:"UserInfo",component:function(){return t.e(4).then(t.bind(null,"a1Ho"))}},{path:"/coder",name:"coder",component:function(){return t.e(3).then(t.bind(null,"WC6f"))}},{path:"/sysMenu",name:"sysMenu",component:function(){return t.e(2).then(t.bind(null,"CUCP"))}},{path:"/permission",name:"permission",component:function(){return t.e(21).then(t.bind(null,"CChK"))}}])},{path:"/login",name:"login",component:function(){return t.e(18).then(t.bind(null,"lmfZ"))},meta:{anonymous:!0}}]});A.beforeEach(function(e,n,t){return R.getters.getUserInfo(),0==e.matched.length?t({path:"/404"}):(R.dispatch("onLoading",!0),e.hasOwnProperty("meta")&&e.meta.anonymous||R.getters.isLogin()?t():void t({path:"/login",query:{redirect:Math.random()}}))}),A.afterEach(function(e,n){R.dispatch("onLoading",!1)}),A.onError(function(e){var n=e.message.match(/Loading chunk (\d)+ failed/g),t=A.history.pending.fullPath;console.log(e.message),console.log(t),n&&window.location.replace(window.location.href)});var T=A,E=t("woOf"),x=t.n(E),C=t("//Fk"),j=t.n(C),$=t("mtWM"),M=t.n($);t("mw3O");M.a.defaults.timeout=5e4,M.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",M.a.defaults.baseURL="http://223.84.172.223:9991/";var O=M.a.defaults.baseURL;M.a.interceptors.request.use(function(e){return F&&P.show(F),e.method,e},function(e){return F&&P.close(),j.a.reject(e)}),M.a.interceptors.response.use(function(e){return F&&P.close(),e.data.success?e:j.a.resolve(e)},function(e){F&&P.close();var n="";return e.response?e.response.data&&e.response.data.message?n=e.response.data.message:"404"==e.response.status&&(n="没有找到请求的地址"):n="网络好像出了点问题~",N(e.response||{},n),j.a.reject(e.response)});var X=null,H="",_="Authorization",q="Bearer ";var D=void 0,P={show:function(e){var n="正在处理中.....";"string"==typeof e&&(n=e),D&&D.close(),D=X.$loading({lock:!0,target:"#loading-container",customClass:"el-loading",text:n,spinner:"el-icon-loading",background:"rgba(58, 61, 63, 0.32)"})},close:function(){D.close()}};function B(){return H?q+H:X.$store.getters.getToken()}var F=void 0;function N(e,n){try{var t="string"==typeof e?JSON.parse(e):e;t.hasOwnProperty("code")&&401==t.code||t.data&&401==t.data.code?J():X.$message.error(n)}catch(n){console.log(n),X.$message.error(e)}}function J(){H="",X.$router.push({path:"/login",params:{r:Math.random()}})}function Y(e){z({url:"/api/User/replaceToken",param:{},json:!0,success:function(n){if(n.status){var t=X.$store.getters.getUserInfo();t.token=n.data,H=n.data,X.$store.commit("setUserInfo",t),e()}else console.log(n.message),J()},errror:function(e){console.log(e),J()},type:"post",async:!1})}function z(e){var n=x()({url:"",headers:{},param:{},json:!0,success:function(){},errror:function(){},type:"post",async:!0},e);n.url=M.a.defaults.baseURL+n.url.replace(/\/?/,""),n.headers[_]=B();var t=function(){if(XMLHttpRequest)return new XMLHttpRequest;if(ActiveXObject){if("string"!=typeof arguments.callee.activeXString)for(var e=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp","MSXML2.XMLHttp.3.0"],n=0;n<e.length;n++)try{new ActiveXObject(e[n]),arguments.callee.activeXString=e[n];break}catch(e){console.log("no")}return new ActiveXObject(arguments.callee.activeXString)}}();for(var o in t.onreadystatechange=function(){403!=t.status&&401!=t.status?202!=t.status?4!=t.readyState||200!=t.status?0!=t.status&&1!=t.readyState&&n.errror(t):n.success(n.json?JSON.parse(t.responseText):t.responseText):Y(function(){z(e)}):N(t.responseText)},t.open(n.type,n.url,n.async),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.headers)t.setRequestHeader(o,n.headers[o]);var r="";for(var a in n.param)r+=a+"="+n.param[a];try{t.send(r)}catch(e){J()}}z.post=function(e,n,t,o){z({url:e,param:n,success:t,error:o,type:"post"})},z.get=function(e,n,t,o){z({url:e,param:n,success:t,error:o,type:"post"})};var G={post:function e(n,t,o){return F=o,M.a.defaults.headers[_]=B(),new j.a(function(o,r){M.a.post(n,t).then(function(r){202!=r.status?o(r.data):Y(function(){e(n,t,F)})},function(o){202!=o.status?r(o.data&&o.data.message?o.data.message:"网络好像出了点问题~~"):Y(function(){e(n,t,F)})}).catch(function(e){r(e)})})},get:function e(n,t,o){return F=o,M.a.defaults.headers[_]=B(),new j.a(function(o,r){M.a.get(n,{params:t}).then(function(r){202!=r.status?o(r.data):Y(function(){e(n,t,F)})},function(o){202!=o.status?(N(response.data),r(o)):Y(function(){e(n,t,F)})}).catch(function(e){r(e)})})},ajax:z,init:function(e){X=e},ipAddress:O};var Q=[{name:"查 询",value:"Search",icon:"md-search",class:"dropdown",type:"info",onClick:function(){this.search()}},{name:"刷 新",icon:"md-refresh",class:"",type:"success",onClick:function(){this.refresh()}},{name:"新 建",icon:"md-add",value:"Add",class:"",type:"error",onClick:function(){this.add()}},{name:"编 辑",icon:"md-create",value:"Update",class:"",type:"success",onClick:function(){this.edit()}},{name:"删 除",icon:"md-close",class:"",value:"Delete",type:"error",onClick:function(){this.del()}},{name:"审 核",icon:"md-create",class:"",value:"Audit",type:"error",onClick:function(){this.audit()}},{name:"导 入",icon:"md-color-fill",class:"",value:"Import",onClick:function(){this.import()}},{name:"导 出",icon:"md-share-alt",class:"",value:"Export",onClick:function(){this.export()}}],V=null,W={init:function(e){V=e},getMenu:function(){return G.get("/api/getTreeMenu")},getButtons:function(e,n,t){t&&(t="/"+t);var o=V.$store.getters.getPermission(t||e);if(o||(o=V.$store.getters.getPermission(e.substring(1)))){var r=o.permission,a=Q.filter(function(e){return!e.value||-1!=r.indexOf(e.value)});return n&&n instanceof Array&&a.push.apply(a,p()(n)),a}V.permission.to401()},to401:function(){V.$router.push({path:"/401"})}},K={isPhone:function(e){return/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)},isDecimal:function(e){return/(^[\-0-9][0-9]*(.[0-9]+)?)$/.test(e)},isNumber:function(e){return/(^[\-0-9][0-9]*([0-9]+)?)$/.test(e)},isMail:function(e){return/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e)},isUrl:function(e){return this.checkUrl(e)},checkUrl:function(e){return!!new RegExp("^((https|http|ftp)://)?(([\\w_!~*'()\\.&=+$%-]+: )?[\\w_!~*'()\\.&=+$%-]+@)?(([0-9]{1,3}\\.){3}[0-9]{1,3}|(localhost)|([\\w_!~*'()-]+\\.)*\\w+\\.[a-zA-Z]{1,6})(:[0-9]{1,5})?((/?)|(/[\\w_!~*'()\\.;?:@&=+$,%#-]+)+/?)$","i").test(encodeURI(e))},matchUrlIp:function(e,n){return!(!e||!n)&&e.indexOf(n.replace("https://","").replace("http://",""))>=0},getImgSrc:function(e,n){return this.isUrl(e)?e:n?n+e:e},previewImg:function(e,n){e&&!this.isUrl(e)&&n&&("/"==e.substr(0,1)&&"/"==n.substr(n.length-1,1)&&(e=e.substr(1)),e=n+e);var t=document.getElementById("vol-preview");if(!t){(t=document.createElement("div")).setAttribute("id","vol-preview");var o=document.createElement("div");o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.background="black",o.style.opacity="0.6",t.appendChild(o),t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.top=0,t.style["z-index"]=9999999;var r=document.createElement("img");return r.setAttribute("class","vol-preview-img"),r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style["max-width"]="90%",r.style["max-height"]="90%",r.style.transform="translate(-50%,-50%)",r.setAttribute("src",e),t.appendChild(r),t.addEventListener("click",function(){this.style.display="none"}),void document.body.appendChild(t)}document.body.appendChild(t).querySelector(".vol-preview-img").setAttribute("src",e),t.style.display="block"},dowloadFile:function(e,n,t,o){if(e){var r=document.getElementById("dowonloadfile-a");if(r||((r=document.createElement("a")).setAttribute("id","dowonloadfile-a"),document.body.append(r)),!this.isUrl(e)){if(!this.isUrl(o+e))return console.log("文件路径不正确"),void alert("文件路径不正确");e=o+e}r.href=e,r.click()}else alert("此文件没有url不能下载")},downloadImg:function(e){if(e.url&&e.callback&&"function"==typeof e.callback){if(this.isUrl(e.url)&&!this.matchUrlIp(e.url,e.backGroundUrl))return e.url;if(!this.isUrl(e.url)){if(!this.isUrl(e.backGroundUrl+e.url))return;e.url=e.backGroundUrl+e.url}var n=new XMLHttpRequest;if(n.open("get",e.url,!0),n.responseType="blob",n.setRequestHeader("Content-Type","application/json"),e.header&&"object"==y()(e.header))for(var t in e.header)n.setRequestHeader(t,e.header[t]);n.onload=function(){if(200==this.status){var e=this.response;callback(window.URL.createObjectURL(e))}},n.send()}},convertTree:function(e,n){var t=[],o=[];e.forEach(function(r){r.children||(r.children=[]),r.hidden||void 0===r.id||r.id===r.parentId||e.some(function(e){return r.parentId==e.id})||(r.isRoot=!0,n&&n(r,e,!0,t),o.push(r),function e(n,t,o,r,a){-1==a.indexOf(n)&&a.push(n);o.forEach(function(i){i.hidden||i.parentId!=n||(t.children||(t.children=[]),r&&r(i,t,!1),t.children.push(i),e(i.id,i,o,r,a))})}(r.id,r,e,n,t))});var r=e.filter(function(e){return-1==t.indexOf(e.id)&&!e.hidden});return o.push.apply(o,p()(r)),o},getTreeAllParent:function(e,n){var t=[];if(!(n instanceof Array))return t;var o=n.find(function(n){return n.id===e});if(!o)return[];t.push(o);for(var r=[o.parentId],a=function(e){if(!(s=n.find(function(n){return n.id===r[e]&&n.id!==n.parentId})))return{v:t};r.push(s.parentId),t.unshift(s)},i=0;i<r.length;i++){var s,u=a(i);if("object"===(void 0===u?"undefined":y()(u)))return u.v}return t}};a.default.use(l.a),a.default.config.productionTip=!1,a.default.use(r.a);var Z=new a.default({el:"#app",store:R,router:T,components:{App:u},template:"<App/>"});a.default.prototype.http=G,a.default.prototype.http.init(Z),a.default.prototype.permission=W,a.default.prototype.permission.init(Z),a.default.prototype.base=K,a.default.prototype.$tabs={},T.beforeEach(function(e,n,t){Z.$Loading.start({color:"white",height:2}),t()}),T.afterEach(function(){Z.$Loading.finish()})},tvR6:function(e,n){}},[0]);